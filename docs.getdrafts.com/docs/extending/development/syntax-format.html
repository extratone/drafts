<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Creating Syntaxes - Drafts User Guide</title> <link rel="shortcut icon" href="../../../favicon.ico.html" type="image/x-icon"> <link rel="stylesheet" href="../../../assets/css/just-the-docs-default.css"> <script type="text/javascript" src="../../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Creating Syntaxes | Drafts User Guide</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Creating Syntaxes" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch." /> <meta property="og:description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch." /> <link rel="canonical" href="syntax-format.html" /> <meta property="og:url" content="https://docs.getdrafts.com/docs/extending/development/syntax-format.html" /> <meta property="og:site_name" content="Drafts User Guide" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Creating Syntaxes" /> <script type="application/ld+json"> {"headline":"Creating Syntaxes","description":"Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch.","url":"https://docs.getdrafts.com/docs/extending/development/syntax-format.html","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Creating Syntaxes"> <meta name="twitter:description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch. "> <meta name="twitter:image" content="https://docs.getdrafts.com/images/og-image.png" /> <meta property="og:type" content="article"> <meta property="og:title" content="Creating Syntaxes"> <meta property="og:description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch. "> <meta property="og:image" content="https://docs.getdrafts.com/images/og-image.png" /> <link rel="apple-touch-icon" sizes="57x57" href="../../../images/favicons/apple-touch-icon-57x57.png"> <link rel="apple-touch-icon" sizes="60x60" href="../../../images/favicons/apple-touch-icon-60x60.png"> <link rel="apple-touch-icon" sizes="72x72" href="../../../images/favicons/apple-touch-icon-72x72.png"> <link rel="apple-touch-icon" sizes="76x76" href="../../../images/favicons/apple-touch-icon-76x76.png"> <link rel="apple-touch-icon" sizes="114x114" href="../../../images/favicons/apple-touch-icon-114x114.png"> <link rel="apple-touch-icon" sizes="120x120" href="../../../images/favicons/apple-touch-icon-120x120.png"> <link rel="apple-touch-icon" sizes="144x144" href="../../../images/favicons/apple-touch-icon-144x144.png"> <link rel="apple-touch-icon" sizes="152x152" href="../../../images/favicons/apple-touch-icon-152x152.png"> <link rel="apple-touch-icon" sizes="180x180" href="../../../images/favicons/apple-touch-icon-180x180.png"> <link rel="icon" type="image/png" href="../../../images/favicons/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../../images/favicons/favicon-194x194.png.html" sizes="194x194"> <link rel="icon" type="image/png" href="../../../images/favicons/favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../../images/favicons/android-chrome-192x192.png" sizes="192x192"> <link rel="icon" type="image/png" href="../../../images/favicons/favicon-16x16.png" sizes="16x16"> <link rel="manifest" href="../../../images/favicons/manifest.json"> <link rel="shortcut icon" href="../../../images/favicons/favicon.ico"> <meta name="msapplication-TileColor" content="#ffc40d"> <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png"> <script type="text/javascript" src="../../../assets/js/functions.js"></script> <script async defer data-domain="docs.getdrafts.com" src="https://plausible.io/js/plausible.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Creating Syntaxes | Drafts User Guide</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Creating Syntaxes" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch." /> <meta property="og:description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch." /> <link rel="canonical" href="syntax-format.html" /> <meta property="og:url" content="https://docs.getdrafts.com/docs/extending/development/syntax-format.html" /> <meta property="og:site_name" content="Drafts User Guide" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Creating Syntaxes" /> <script type="application/ld+json"> {"headline":"Creating Syntaxes","description":"Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch.","url":"https://docs.getdrafts.com/docs/extending/development/syntax-format.html","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../../index.html" class="site-title fs-6 lh-tight" title="Drafts User Guide"> <img src="../../../images/drafts-guide-header.svg" alt="Drafts User Guide" style="max-height: 30px;" /> </a> <a href="syntax-format.html#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="../../../index.html" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../gettingstarted.html" class="nav-list-link">Getting Started</a><ul class="nav-list "><li class="nav-list-item "><a href="../../gettingstarted/migration.html" class="nav-list-link">Migrating from Drafts 4</a></li><li class="nav-list-item "><a href="../../gettingstarted/screencasts.html" class="nav-list-link">Screencasts</a></li></ul></li><li class="nav-list-item"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../editor/index.html" class="nav-list-link">Editor</a><ul class="nav-list "><li class="nav-list-item "><a href="../../editor/dictation.html" class="nav-list-link">Dictation</a></li><li class="nav-list-item "><a href="../../editor/tasks.html" class="nav-list-link">Tasks</a></li><li class="nav-list-item "><a href="../../editor/arrangemode.html" class="nav-list-link">Arrange Mode</a></li><li class="nav-list-item "><a href="../../editor/focusmode.html" class="nav-list-link">Focus Mode</a></li><li class="nav-list-item "><a href="../../editor/linkmode.html" class="nav-list-link">Link Mode</a></li><li class="nav-list-item "><a href="../../editor/editorsettings.html" class="nav-list-link">Editor Preferences</a></li><li class="nav-list-item "><a href="../../editor/autocomplete.html" class="nav-list-link">Autocomplete</a></li><li class="nav-list-item "><a href="../../editor/action-bar.html" class="nav-list-link">Action Bar</a></li><li class="nav-list-item "><a href="../../editor/find.html" class="nav-list-link">Find and Replace</a></li><li class="nav-list-item "><a href="../../editor/navigation.html" class="nav-list-link">Navigation</a></li><li class="nav-list-item "><a href="../../editor/document-scanning.html" class="nav-list-link">Scanning and Live Text</a></li><li class="nav-list-item "><a href="../../editor/transcription.html" class="nav-list-link">Transcribing Audio & Video</a></li><li class="nav-list-item "><a href="../../editor/previews.html" class="nav-list-link">Previews</a></li></ul></li><li class="nav-list-item"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../drafts/index.html" class="nav-list-link">Managing Drafts</a><ul class="nav-list "><li class="nav-list-item "><a href="../../drafts/tagging.html" class="nav-list-link">Flags & Tagging</a></li><li class="nav-list-item "><a href="../../drafts/quick-search.html" class="nav-list-link">Quick Search</a></li><li class="nav-list-item "><a href="../../drafts/filtering.html" class="nav-list-link">Search & Filtering</a></li><li class="nav-list-item "><a href="../../drafts/listoptions.html" class="nav-list-link">List Options</a></li><li class="nav-list-item "><a href="../../drafts/workspaces.html" class="nav-list-link">Workspaces</a></li><li class="nav-list-item "><a href="../../drafts/versionhistory.html" class="nav-list-link">Version History</a></li><li class="nav-list-item "><a href="https://docs.getdrafts.com/docs/drafts/cross-linking.html" class="nav-list-link">Linking Drafts</a></li></ul></li><li class="nav-list-item"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../actions.html" class="nav-list-link">Actions</a><ul class="nav-list "><li class="nav-list-item "><a href="../../actions/editing-actions.html" class="nav-list-link">Configuring Actions</a></li><li class="nav-list-item "><a href="../../actions/action-groups.html" class="nav-list-link">Action Groups</a></li><li class="nav-list-item "><a href="../../actions/action-log.html" class="nav-list-link">Action Log</a></li><li class="nav-list-item "><a href="../../actions/versions.html" class="nav-list-link">Action Versions</a></li><li class="nav-list-item "><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../actions/steps/index.html" class="nav-list-link">Action Steps</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../actions/steps/system.html" class="nav-list-link">System</a> </li><li class="nav-list-item "> <a href="../../actions/steps/services.html" class="nav-list-link">Services</a> </li><li class="nav-list-item "> <a href="../../actions/steps/utility.html" class="nav-list-link">Utility</a> </li><li class="nav-list-item "> <a href="../../actions/steps/advanced.html" class="nav-list-link">Advanced</a> </li></ul></li><li class="nav-list-item "><a href="../../actions/scripting.html" class="nav-list-link">Scripting</a></li><li class="nav-list-item "><a href="../../actions/templates.html" class="nav-list-link">Templates</a></li><li class="nav-list-item "><a href="../../actions/platform-notes.html" class="nav-list-link">Cross-Platform Notes</a></li><li class="nav-list-item "><a href="../../actions/html-forms.html" class="nav-list-link">Advanced HTML Previews</a></li></ul></li><li class="nav-list-item"><a href="../directory.html" class="nav-list-link">Drafts Directory</a></li><li class="nav-list-item"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../settings/index.html" class="nav-list-link">Settings</a><ul class="nav-list "><li class="nav-list-item "><a href="../../settings/sync.html" class="nav-list-link">iCloud Sync</a></li><li class="nav-list-item "><a href="../../settings/backups.html" class="nav-list-link">Backups</a></li><li class="nav-list-item "><a href="../../settings/notifications.html" class="nav-list-link">App Badge</a></li><li class="nav-list-item "><a href="../../settings/bookmarks.html" class="nav-list-link">Bookmarks</a></li><li class="nav-list-item "><a href="../../settings/credentials.html" class="nav-list-link">Credentials</a></li><li class="nav-list-item "><a href="../../settings/markdown.html" class="nav-list-link">Markdown Settings</a></li><li class="nav-list-item "><a href="../../settings/automatic-import.html" class="nav-list-link">Automatic Import</a></li></ul></li><li class="nav-list-item"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../automation/index.html" class="nav-list-link">Automation</a><ul class="nav-list "><li class="nav-list-item "><a href="../../automation/shortcuts.html" class="nav-list-link">Shortcuts</a></li><li class="nav-list-item "><a href="../../automation/urlschemes.html" class="nav-list-link">URL Schemes</a></li><li class="nav-list-item "><a href="../../automation/applescript.html" class="nav-list-link">AppleScript</a></li></ul></li><li class="nav-list-item"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../extensions/index.html" class="nav-list-link">Extensions</a><ul class="nav-list "><li class="nav-list-item "><a href="../../extensions/applewatch.html" class="nav-list-link">Apple Watch</a></li><li class="nav-list-item "><a href="../../extensions/web-capture.html" class="nav-list-link">Drafts Web Capture</a></li><li class="nav-list-item "><a href="../../extensions/widgets.html" class="nav-list-link">Widgets</a></li><li class="nav-list-item "><a href="../../extensions/share.html" class="nav-list-link">iOS Share and Capture</a></li><li class="nav-list-item "><a href="../../extensions/capture-window.html" class="nav-list-link">Mac Share and Capture</a></li><li class="nav-list-item "><a href="../../extensions/message.html" class="nav-list-link">iMessage App</a></li></ul></li><li class="nav-list-item active"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../extending/index.html" class="nav-list-link">Syntaxes & Themes</a><ul class="nav-list "><li class="nav-list-item "><a href="../syntaxes.html" class="nav-list-link">Syntaxes</a></li><li class="nav-list-item "><a href="../themes.html" class="nav-list-link">Themes</a></li><li class="nav-list-item active"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../extending/development.html" class="nav-list-link">Developing</a><ul class="nav-list"><li class="nav-list-item active"> <a href="syntax-format.html" class="nav-list-link active">Creating Syntaxes</a> </li><li class="nav-list-item "> <a href="theme-format.html" class="nav-list-link">Creating Themes</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="../../../draftspro.html" class="nav-list-link">Drafts Pro</a></li><li class="nav-list-item"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../misc/index.html" class="nav-list-link">Miscellaneous</a><ul class="nav-list "><li class="nav-list-item "><a href="../../misc/press-kit.html" class="nav-list-link">Press Kit</a></li><li class="nav-list-item "><a href="../../misc/attributions.html" class="nav-list-link">Attributions</a></li><li class="nav-list-item "><a href="../../../misc/mail-assistant.html" class="nav-list-link">Mail Assistant</a></li><li class="nav-list-item "><a href="../../misc/interact-scratchpad.html" class="nav-list-link">Interact Scratchpad</a></li></ul></li><li class="nav-list-item"><a href="syntax-format.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../changelog.html" class="nav-list-link">Release Notes</a><ul class="nav-list "></ul></li><li> <hr style="margin:.5em; padding: 0;" /> </li> <li class="nav-list-item"> <a class="nav-list-link nav-external" title="About Drafts" href="https://getdrafts.com/">Get Drafts &#x2192;</a> </li> <li class="nav-list-item"> <a class="nav-list-link nav-external" title="Add-on actions, themes and more" href="https://directory.getdrafts.com/">Directory &#x2192;</a> </li> <li class="nav-list-item"> <a class="nav-list-link nav-external" title="Get your questions answered in the forums" href="https://forums.getdrafts.com/">Community &#x2192;</a> </li> <li class="nav-list-item"> <a class="nav-list-link nav-external" title="Online tools and generators" href="https://tools.getdrafts.com/">Tools &#x2192;</a> </li> <li class="nav-list-item"> <a class="nav-list-link nav-external" title="Scripting library reference" href="https://scripting.getdrafts.com/">Script Reference &#x2192;</a> </li> </ul> </nav> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-0"> Download: <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">iOS</a> | <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">Mac</a> </p> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Drafts User Guide" aria-label="Search Drafts User Guide" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"> <use xlink:href="#svg-search"></use> </svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://getdrafts.com" class="site-button" > Get Drafts </a> </li> <li class="aux-nav-list-item"> <a href="https://forums.getdrafts.com" class="site-button" > Community </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../../extending/index.html">Syntaxes & Themes</a> </li> <li class="breadcrumb-nav-list-item"><a href="../../../extending/development.html">Developing</a></li> <li class="breadcrumb-nav-list-item"><span>Creating Syntaxes</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="creating-syntaxes"> <a href="syntax-format.html#creating-syntaxes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Creating Syntaxes </h1> <h4 class="no_toc" id="table-of-contents"> <a href="syntax-format.html#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of Contents </h4> <ol id="markdown-toc"> <li><a href="syntax-format.html#what-do-i-need-to-know" id="markdown-toc-what-do-i-need-to-know">What Do I Need to Know?</a></li> <li><a href="syntax-format.html#file-format" id="markdown-toc-file-format">File Format</a></li> <li><a href="syntax-format.html#editing-syntax-definitions" id="markdown-toc-editing-syntax-definitions">Editing Syntax Definitions</a></li> <li><a href="syntax-format.html#workflow-for-editing-syntaxes" id="markdown-toc-workflow-for-editing-syntaxes">Workflow for Editing Syntaxes</a></li> <li><a href="syntax-format.html#sample-files" id="markdown-toc-sample-files">Sample Files</a></li> <li><a href="syntax-format.html#root-level-elements" id="markdown-toc-root-level-elements">Root Level Elements</a></li> <li><a href="syntax-format.html#patterns" id="markdown-toc-patterns">Patterns</a></li> <li><a href="syntax-format.html#scopes" id="markdown-toc-scopes">Scopes</a></li> <li><a href="syntax-format.html#navigation-patterns" id="markdown-toc-navigation-patterns">Navigation Patterns</a></li> <li><a href="syntax-format.html#indentation-patterns" id="markdown-toc-indentation-patterns">Indentation Patterns</a></li> <li><a href="syntax-format.html#task-mark-definitions" id="markdown-toc-task-mark-definitions">Task Mark Definitions</a></li> <li><a href="syntax-format.html#link-definitions" id="markdown-toc-link-definitions">Link Definitions</a></li> <li><a href="syntax-format.html#autocomplete-definitions" id="markdown-toc-autocomplete-definitions">Autocomplete Definitions</a> <ol> <li><a href="syntax-format.html#draft-type" id="markdown-toc-draft-type"><code class="language-plaintext highlighter-rouge">draft</code> Type</a></li> <li><a href="syntax-format.html#static-type" id="markdown-toc-static-type"><code class="language-plaintext highlighter-rouge">static</code> Type</a></li> </ol> </li> <li><a href="syntax-format.html#list-completion-definitions" id="markdown-toc-list-completion-definitions">List Completion Definitions</a></li> </ol> <h2 id="what-do-i-need-to-know"> <a href="syntax-format.html#what-do-i-need-to-know" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What Do I Need to Know? </h2> <p>Syntax definitions rely heavily on <a href="https://en.wikipedia.org/wiki/Regular_expression">regular expressions</a> to identify patterns in text. A strong familiarity with regular expressions is needed to develop custom syntaxes.</p> <h2 id="file-format"> <a href="syntax-format.html#file-format" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> File Format </h2> <p>Syntax definition files are stored in JSON format with UTF-8 encoding. Supported keys as described below. Additional keys will be ignored. When distributed, Drafts exports and imports using the <code class="language-plaintext highlighter-rouge">.draftsSyntax</code> file extension, but internally these are JSON files.</p> <h2 id="editing-syntax-definitions"> <a href="syntax-format.html#editing-syntax-definitions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Editing Syntax Definitions </h2> <p>Drafts does not have a built-in editor for syntax definitions. Development of syntax definitions is done in JSON files outside of the app. For details, see <a href="../../../extending/development.html#what-is-developer-mode-pro">developer mode</a> information.</p> <p>Since syntax definitions rely heavily on regular expression, we also recommend use of a regular expression tool/app to work on testing and regular expression patterns. There are many, the one we typically use is <a href="https://regex101.com">Regex 101</a>.</p> <p>Once a syntax definition is complete, it can be imported into Drafts to be used, and, if desired, shared to the Drafts Directory for other users.</p> <h2 id="workflow-for-editing-syntaxes"> <a href="syntax-format.html#workflow-for-editing-syntaxes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Workflow for Editing Syntaxes </h2> <p>Generally speaking, the recommended workflow for developing a custom syntax is as below. These steps apply on both iOS and macOS.</p> <ul> <li>Enable <a href="../../../extending/development.html#what-is-developer-mode-pro">Developer Mode</a></li> <li>In Drafts, choose an existing built-in or custom syntax that most closely matches the syntax you wish to develop. Select this syntax in editor preferences, and export is as a file using the available share options. Save this file in <code class="language-plaintext highlighter-rouge">iCloud Drive/Drafts/Library/Syntaxes</code> (you may have to create this folder).</li> <li>Open your new syntax file in an external JSON editor, make your modifications, and save the file.</li> <li>In Drafts, create a testing draft with sample text for your syntax, and select your new file-based syntax as the syntax assigned to the draft.</li> <li>As you iterate and make changes to your syntax, save the file, and reload it in Drafts by either selecting a different draft and returning to your testing draft, or re-assigning the syntax to force it to reload from file.</li> <li>When you are happy with your syntax, import it into Drafts as a custom syntax using the “Import” options in editor preferences.</li> <li>The imported custom syntax can be used in regular production mode.</li> <li>Disable Developer Mode.</li> </ul> <p>If you are making modifications to a syntax you have worked on in the past, when you use the “Import” feature, you will be offered the option to replace the version you have imported in the past, or import as a new custom syntax.</p> <h2 id="sample-files"> <a href="syntax-format.html#sample-files" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sample Files </h2> <p>Complete example syntax definitions:</p> <ul> <li><a href="https://config.agiletortoise.com/examples/grammar-markdown.json"><strong>grammar-markdown.json</strong></a>: Markdown syntax currently used in Drafts.</li> <li><a href="https://config.agiletortoise.com/examples/grammar-javascript.json"><strong>grammar-javascript.json</strong></a>: JavaScript syntax currently used in Drafts.</li> <li><a href="https://config.agiletortoise.com/examples/grammar-simple%20list.json"><strong>grammar-simple list.json</strong></a>: Simple List syntax currently used in Drafts.</li> </ul> <p>Other demo syntaxes:</p> <ul> <li><a href="https://config.agiletortoise.com/examples/Demo-Hashtags.json"><strong>Demo-Hashtags.json</strong></a>: Example patterns to highlight Twitter-style #hashtags and @mentions.</li> <li><a href="https://config.agiletortoise.com/examples/Demo-Rainbow.json"><strong>Demo-Rainbow.json</strong></a>: A silly example which simply colorizes the word “rainbow” when typed in a draft.</li> <li><a href="https://config.agiletortoise.com/examples/Demo-Tasks.json"><strong>Demo-Tasks.json</strong></a>: Demostrates a few more advanced possibilities for tappable/clickable task elements in text.</li> </ul> <h2 id="root-level-elements"> <a href="syntax-format.html#root-level-elements" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Root Level Elements </h2> <p>The root of the JSON file should be a object which defines the following root element keys:</p> <ul> <li><strong>name</strong> <em>[string, required]</em>: A friendly name for the Syntax definition. Used in user interface for selection.</li> <li><strong>author</strong> <em>[string]</em>: Source credit for who created this theme. This might be your <a href="https://forums.getdrafts.com">Drafts Community</a> username, Twitter handle, or similar.</li> <li><strong>description</strong> <em>[string, required]</em>: Description of the syntax with more details about what is supported by the definition. Used in user interface elements to assist user in selecting syntaxes. Markdown can be included and will be rendered if this syntax is posted to the Directory.</li> <li><strong>sampleText</strong> <em>[string, required]</em>: A brief sample text that demonstrates key features supported in the syntax. This text will be displayed in the syntax manager in Drafts.</li> <li><strong>rangeExtensionType</strong> <em>[object, required]</em>: Controls how many characters are examined for syntax highlighting changes when text is changed in the document. Most objects will have a single <code class="language-plaintext highlighter-rouge">default</code> entry. It is also possible to have separate <code class="language-plaintext highlighter-rouge">iOS</code> and <code class="language-plaintext highlighter-rouge">macOS</code> entries if it makes sense to have different rangeExtensionTypes by platform for performance reasons. Syntax definitions should select the least of these as necessary to ensure that changes to the text are properly reflected. One of the below values: <ul> <li>none: Only for the changed text.</li> <li>line: The entire containing line of the changed text.</li> <li>lineExtended: Include the line before and line after the changes.</li> <li>lookAround500: Extend evaluated range up to 500 characters before and after the changes.</li> <li>lookAround1000: Extend evaluated range up to 1000 characters before and after the changes.</li> <li>lookAround2000: Extend evaluated range up to 2000 characters before and after the changes.</li> <li>fullText: Re-evaluate the entire text when any changes occur.</li> </ul> </li> <li><strong>patterns</strong> <em>[array, required]</em>: Pattern definitions for the syntax. See <a href="syntax-format.html#patterns">Patterns</a> for details.</li> <li><strong>linkDefinitions</strong> <em>[array, required]</em>: Used to create live links within a document. See <a href="syntax-format.html#link-definitions">Link Definitions</a> for details.</li> <li><strong>navigationPatterns</strong> <em>[array, required]</em>: Definitions used to build in-document navigation markers. See <a href="syntax-format.html#navigation-patterns">Navigation Patterns</a> for details.</li> <li><strong>indentationPatterns</strong> <em>[array, required]</em>: Definitions used to define blocks with indentation, such as Markdown lists. See <a href="syntax-format.html#indentation-patterns">Indentation Patterns</a> for details.</li> <li><strong>taskMarkDefinitions</strong> <em>[array, required]</em>: Definitions used to define tap/clickable tasks in the text. See <a href="syntax-format.html#task-mark-definitions">Task Mark Definitions</a> for details.</li> </ul> <h2 id="patterns"> <a href="syntax-format.html#patterns" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Patterns </h2> <p>The <code class="language-plaintext highlighter-rouge">patterns</code> key is the heart of the syntax definition, and defines the array of regular expression patterns to apply to identify markup in the text. When changes are made to the text in Drafts, each of these pattern definitions is applied <em>in order</em> to tokenize the text, applying <code class="language-plaintext highlighter-rouge">scopes</code> which determine styles to be applied to characters in the text.</p> <p>Each pattern definition object should contains the following keys:</p> <ul> <li><strong>match</strong> <em>[string]</em>: Regular expression pattern to use evaluating the pattern. This expression will be applied to the range of characters currently being evaluated to determine any matching strings. The regular expression may contain capture groups mapping to each of the scopes to apply to the text. For example, a match expression for Markdown bold (<code class="language-plaintext highlighter-rouge">**bold**</code>) strings might have separate capture groups for the <code class="language-plaintext highlighter-rouge">**</code> before, the <code class="language-plaintext highlighter-rouge">**</code> after, and the text between to style each with a different scope.</li> <li><strong>comment</strong> <em>[string]</em>: Description of the purpose of this pattern.</li> <li><strong>exclusive</strong> <em>[boolean]</em>: Is this range exclusive. If true, the text range matched by this pattern will be considered complete and not evaluated for matches by and subsequent patterns defined in the syntax.</li> <li><strong>captures</strong> <em>[object]</em>: The capture object must contain a dictionary for each capture group in the match expression, named by index. “0” will always be the entire match result. If the match expression contains additional capture group, each should be included by index, like “1”, “2”, etc. <ul> <li><strong>[capture index]</strong> <em>[object]</em>: Key for object should be integer index of the capture group it applies to. <ul> <li><strong>scope</strong> <em>[string]</em>: Comma-separated list of scope names to apply to this capture group. Scopes are sets of font traits and styles which are defined in themes. Scopes will be applied in the order listed, so if attributes from one scope may override attributes from another, so be careful of ordering.</li> <li><strong>exclusive</strong> <em>[boolean]</em>: Is this range exclusive. If true, the text range matched by this capture group will be considered complete and not evaluated for matches by and subsequent patterns defined in the syntax. If the exclusive value for the parent pattern is true, this is ignored, but allows a capture group within a pattern override the parent to be considered exclusive.</li> </ul> </li> </ul> </li> </ul> <p>Patterns are applied in order. It is important to plan correctly using the <code class="language-plaintext highlighter-rouge">exclusive</code> property and or the correct ordering of patterns to prevent subsequent patterns from overriding scope values for previously styled text where undesirable.</p> <h4 class="no_toc" id="example"> <a href="syntax-format.html#example" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h4> <p>Below is a partial <code class="language-plaintext highlighter-rouge">patterns</code> object with two example patterns to perform syntax highlighting on Markdown heading lines and on horizontal rule markup.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^(#+) ([^</span><span class="se">\\</span><span class="s2">n]+?)(</span><span class="se">\\</span><span class="s2">1?)$"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exclusive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Markdown header like ###"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markup.heading"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text.heading"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markup.heading"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^(</span><span class="se">\\</span><span class="s2">*{3,}|-{3,})"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exclusive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Markdown horizontal rule like *** or ---"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markup"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <h2 id="scopes"> <a href="syntax-format.html#scopes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scopes </h2> <blockquote> <h4 class="no_toc" id="tip"> <a href="syntax-format.html#tip" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tip </h4> <p>Stick to using scopes names defined in the default themes for the best compatibility with other themes.</p> </blockquote> <p>Scopes are the means by which the tokens identified by the regular expression patterns in the syntax definition are tied into themes, which determine how that piece of text will actually appear in the editor. Scope names are arbitrary strings, but if a scope name is used which does not exist in the current theme in use, no changes are made to the text.</p> <p>The themes which come with Drafts define a set of recommended default scope names which are associated with common text styles, like <code class="language-plaintext highlighter-rouge">text.normal</code>, <code class="language-plaintext highlighter-rouge">text.bold</code>, <code class="language-plaintext highlighter-rouge">text.monospace.bold</code>. They also contain some semantic scopes for common types identified in syntaxes, like <code class="language-plaintext highlighter-rouge">text.heading01</code>, <code class="language-plaintext highlighter-rouge">code.comment</code>, <code class="language-plaintext highlighter-rouge">markup</code>, <code class="language-plaintext highlighter-rouge">code.keyword</code> - as well as some common colors, like <code class="language-plaintext highlighter-rouge">color.blue</code>, <code class="language-plaintext highlighter-rouge">color.green</code>.</p> <p>When designing syntaxes, it’s important to familiarize yourself with the default scopes in Drafts styles. When possible, sticking It is also possible to use your own scope names, but for them to be meaningful, a custom theme may need to be made and used with your syntax.</p> <p>In most cases, multiple scopes can be applied in a syntax by providing a comma-separate list. For example, to get bold red text, you might have a pattern with a scope <code class="language-plaintext highlighter-rouge">text.bold, color.red</code>. When muliple scopes are applied, the are applied in order, so it’s possible to override values from an early scope in the list. For example, using <code class="language-plaintext highlighter-rouge">color.blue, color.red</code> would result in red text.</p> <h2 id="navigation-patterns"> <a href="syntax-format.html#navigation-patterns" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Navigation Patterns </h2> <p>The <code class="language-plaintext highlighter-rouge">navigationPatterns</code> array contains objects which define markers within the text which are used by Drafts’ <a href="../../editor/navigation.html">navigation feature</a> to jump between locations in a longer draft.</p> <p>When building the list of navigation markers, all patterns defined in the syntax will be evaluated against the full text of the draft, then the list of all found markers will be sorted in the order they appear in the text and presented to the user for selection.</p> <p>Each navigation pattern object should contain the following keys:</p> <ul> <li><strong>match</strong> <em>[string]</em>: Regular expression pattern used to locate markers in the text. The expression should contain at least one capture group to define a label to use to identify the marker in the navigation interface.</li> <li><strong>comment</strong> <em>[string]</em>: Description of the purpose of the match pattern.</li> <li><strong>rangeCapture</strong> <em>[string]</em>: Integer index of capture group in the <code class="language-plaintext highlighter-rouge">match</code> pattern to use to identify the location of the marker in the text. When selecting a marker in the navigation interface, the editor will jump the cursor to this location.</li> <li><strong>labelCapture</strong> <em>[string]</em>: Integer index of capture group in the <code class="language-plaintext highlighter-rouge">match</code> pattern to use as a string label for the marker. For example, when navigating to a Markdown heading, you might want to capture only the text of the header without the leading markup (<code class="language-plaintext highlighter-rouge">##</code>) to be displayed.</li> <li><strong>prefix</strong> <em>[string]</em>: Prefix to display before the label in the navigation interface. This should be used to distinguish the type of marker (For example, “H1”, “H2”).</li> <li><strong>level</strong> <em>[number]</em>: Integer value from 0 to 9 to indicate the indention level of this marker in the navigation interface.</li> </ul> <h4 class="no_toc" id="example-1"> <a href="syntax-format.html#example-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h4> <p>The below example is the navigation patterns entry from the default Markdown syntax. It creates markers for each Markdown heading level (1-6), each with appropriate indentation and labelling.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"navigationPatterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^# (.*)$"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H1 level markdown headers with #"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rangeCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"labelCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^## (.*)$"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H2 level markdown headers with ##"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rangeCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"labelCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^### (.*)$"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H3 level markdown headers with ###"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rangeCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"labelCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^#### (.*)$"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H4 level markdown headers with ####"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rangeCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"labelCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^##### (.*)$"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H5 level markdown headers with #####"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rangeCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"labelCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^###### (.*)$"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H6 level markdown headers with ######"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rangeCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"labelCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <h2 id="indentation-patterns"> <a href="syntax-format.html#indentation-patterns" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Indentation Patterns </h2> <p>Indentation patterns define block level elements which should be indented as a block when lines wrap beyond the editor width. Examples are Markdown list lines and quotations.</p> <p>Indentation patterns should use a regular expression pattern that anchors to the beginning of a line (<code class="language-plaintext highlighter-rouge">^</code>) and contain a capture group that matches the string that is forcing the indentation. The length of that capture group’s string will be used to calculate the depth of the indent.</p> <p>The <code class="language-plaintext highlighter-rouge">indentScope</code> tells Drafts what font metrics to use to calculate the depth of the indentation, and should match the scope applied by patterns to the text in the <code class="language-plaintext highlighter-rouge">indentCapture</code> range.</p> <p>Each the <code class="language-plaintext highlighter-rouge">indentationPatterns</code> array should contain objects with the following keys:</p> <ul> <li><strong>match</strong> <em>[string]</em>: Regular expression pattern used to find the indentation string. This pattern should anchor at the beginning of the line.</li> <li><strong>comment</strong> <em>[string]</em>: Description of the purpose of the match pattern.</li> <li><strong>indentCapture</strong> <em>[string]</em>: The capture group index from the match pattern which identifies the text to be used to calculate the indent size.</li> <li><strong>indentScope</strong> <em>[string]</em>: The scope to assign to the indent capture.</li> </ul> <h4 class="no_toc" id="example-2"> <a href="syntax-format.html#example-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h4> <p>The below example <code class="language-plaintext highlighter-rouge">indentationPatterns</code> entry is from the default Markdown syntax and defines a single indentation pattern to locate and intent Markdown list and quote blocks.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"indentationPatterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(^</span><span class="se">\\</span><span class="s2">h*</span><span class="se">\\</span><span class="s2">* |^</span><span class="se">\\</span><span class="s2">h*</span><span class="se">\\</span><span class="s2">- |^</span><span class="se">\\</span><span class="s2">h*</span><span class="se">\\</span><span class="s2">+ |^</span><span class="se">\\</span><span class="s2">h*</span><span class="se">\\</span><span class="s2">d+</span><span class="se">\\</span><span class="s2">. |^</span><span class="se">\\</span><span class="s2">h*&gt;[&gt; ]+).*"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indent Markdown lists and blockquotes"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indentCapture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indentScope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text.normal"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <h2 id="task-mark-definitions"> <a href="syntax-format.html#task-mark-definitions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Task Mark Definitions </h2> <p>The objects in the <code class="language-plaintext highlighter-rouge">taskMarkDefinitions</code> array create tap/clickable task marks that change state when tapped. The most common usage of these definitions is to create on-off <code class="language-plaintext highlighter-rouge">[ ] / [x]</code> style checkboxes which can be tapped to toggle state.</p> <p>Task mark definitions are not limited to two states, however. They can have more states and each state can have a different scope specification to affect styling of the text.</p> <p>Each object in the <code class="language-plaintext highlighter-rouge">taskMarkDefinitions</code> array should have the following keys:</p> <ul> <li><strong>enabled</strong> <em>[boolean]</em>: Is this definition active.</li> <li><strong>match</strong> <em>[string]</em>: Regular expression which identifies a task mark string. This expression should find all possible states of the task mark.</li> <li><strong>rangeType</strong> <em>[string]</em>: Controls handling of task matches. Supported values: <ul> <li><strong>task</strong>: Use if the <code class="language-plaintext highlighter-rouge">match</code> expression will matches the state values only and no surrounding text. This allows more than one mark per line, but these tasks will only toggle the text used to define the task.</li> <li><strong>line</strong>: Use if the <code class="language-plaintext highlighter-rouge">match</code> expression matches additional content beyond the interface capture. This type allows state values to be separate from the tappable interface task, but are limited to one match per line.</li> </ul> </li> <li><strong>captures</strong> <em>[object]</em>: Dictionary with the following required keys: <ul> <li><strong>interactive</strong> <em>[string]</em>: Group capture index of the <code class="language-plaintext highlighter-rouge">match</code> expression which represents the tap/clickable task text.</li> <li><strong>state</strong> <em>[string]</em>: Group capture index of the <code class="language-plaintext highlighter-rouge">match</code> expression which represents the <code class="language-plaintext highlighter-rouge">state</code> of the task.</li> </ul> </li> <li><strong>states</strong> <em>[array of strings]</em>: An array, in order, of the possible states of the task mark. When tapping the mark in the text, it will cycle through these states in order changing the value in the <code class="language-plaintext highlighter-rouge">state</code> capture range of the <code class="language-plaintext highlighter-rouge">match</code> expression.</li> <li><strong>scopes</strong> <em>[object]</em>: Scopes to apply to the task captures. Currently supports only one key: <ul> <li><strong>interactive</strong> <em>[string]</em>: Scope name to apply to the <code class="language-plaintext highlighter-rouge">interactive</code> (tap/clickable) capture group from the <code class="language-plaintext highlighter-rouge">match</code> expression. This allows the task to be styled with themes. Note that foreground colors cannot be applied.</li> </ul> </li> </ul> <h4 class="no_toc" id="example-3"> <a href="syntax-format.html#example-3" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h4> <p>The below example <code class="language-plaintext highlighter-rouge">taskMarkDefinitions</code> entry is the one used in Markdown syntax to create on-off <code class="language-plaintext highlighter-rouge">[ ]</code> and <code class="language-plaintext highlighter-rouge">[x]</code> task marks, which will be rendered using the current theme’s <code class="language-plaintext highlighter-rouge">text.monospace.bold</code> scope.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"taskMarkDefinitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(</span><span class="se">\\</span><span class="s2">[[ xX]</span><span class="se">\\</span><span class="s2">])"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rangeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"task"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interactive"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"states"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"[ ]"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"[x]"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"scopes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interactive"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text.monospace.bold"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h2 id="link-definitions"> <a href="syntax-format.html#link-definitions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Link Definitions </h2> <p>The objects in the <code class="language-plaintext highlighter-rouge">linkDefinitions</code> array create tap/clickable links to URLs, which can dynamically use data from <code class="language-plaintext highlighter-rouge">key</code> and <code class="language-plaintext highlighter-rouge">value</code> capture groups within the pattern defined by the definition to general URLs.</p> <p>Each object in the <code class="language-plaintext highlighter-rouge">linkDefinitions</code> array should have the following keys:</p> <ul> <li><strong>enabled</strong> <em>[boolean]</em>: Is this definition active.</li> <li><strong>match</strong> <em>[string]</em>: Regular expression which identifies a link text. The match expression should define capture groups which isolate two values for use constructing the link URL. The match pattern should match all possible values for the <code class="language-plaintext highlighter-rouge">key</code>.</li> <li><strong>captures</strong> <em>[object]</em>: Dictionary with the following required keys: <ul> <li><strong>key</strong> <em>[string]</em>: Group capture index of the <code class="language-plaintext highlighter-rouge">match</code> expression which represents a <code class="language-plaintext highlighter-rouge">key</code> to use to determine the template to use in creating the link URL.</li> <li><strong>value</strong> <em>[string]</em>: Group capture index of the <code class="language-plaintext highlighter-rouge">match</code> expression which represents a <code class="language-plaintext highlighter-rouge">value</code> which can be inserted in the resulting URL dynamically using the tag <code class="language-plaintext highlighter-rouge">[[value]]</code></li> <li><strong>link</strong> <em>[string]</em>: Group capture index for the range to be highlighted as a link. This could be the entire matching range, or a substring with the range.</li> <li><strong>prefix</strong> <em>[string]</em>: Group capture index for any markup before the link. Optional, but allows for separate scope to be applied.</li> <li><strong>suffix</strong> <em>[string]</em>: Group capture index for any markup after the link. Optional, but allows for separate scope to be applied.</li> </ul> </li> <li><strong>templates</strong> <em>[object]</em>: An object containing string entries keyed for each possible value of the <code class="language-plaintext highlighter-rouge">key</code>, and providing a template for a URL which will be generated and attached to the link. These templates can contain a <code class="language-plaintext highlighter-rouge">[[value]]</code> tag, which will insert the URL encoded version of the <code class="language-plaintext highlighter-rouge">value</code> capture group in the URL. <code class="language-plaintext highlighter-rouge">[[value_unencoded]]</code> is also available to use the raw value string, primarily for the case where the <code class="language-plaintext highlighter-rouge">value</code> is, itself, a valid URL.</li> <li><strong>scopes</strong> <em>[object]</em>: Scopes to apply to the task captures to allow themes to apply styling: <ul> <li><strong>key</strong> <em>[string]</em>: Scope name to apply to the <code class="language-plaintext highlighter-rouge">key</code> capture group from the <code class="language-plaintext highlighter-rouge">match</code> expression.</li> <li><strong>value</strong> <em>[string]</em>: Scope name to apply to the <code class="language-plaintext highlighter-rouge">value</code> capture group from the <code class="language-plaintext highlighter-rouge">match</code> expression.</li> <li><strong>prefix</strong> <em>[string]</em>: Scope name to apply to the <code class="language-plaintext highlighter-rouge">prefix</code> capture group from the <code class="language-plaintext highlighter-rouge">match</code> expression.</li> <li><strong>suffix</strong> <em>[string]</em>: Scope name to apply to the <code class="language-plaintext highlighter-rouge">suffix</code> capture group from the <code class="language-plaintext highlighter-rouge">match</code> expression.</li> </ul> </li> </ul> <h4 class="no_toc" id="example-4"> <a href="syntax-format.html#example-4" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h4> <p>The below example <code class="language-plaintext highlighter-rouge">linkDefinitions</code> entry which enables links in the style <code class="language-plaintext highlighter-rouge">[[key:value]]</code>, including the <code class="language-plaintext highlighter-rouge">[[d:Draft Title]]</code> internal links to other drafts, <code class="language-plaintext highlighter-rouge">[[s:Search]]</code> to link to a drafts search, and <code class="language-plaintext highlighter-rouge">[[google:Search Terms]]</code> links to Google, etc.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"linkDefinitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(</span><span class="se">\\</span><span class="s2">[</span><span class="se">\\</span><span class="s2">[)((d|u|s|w|google|wikipedia|bear):(.+))(</span><span class="se">\\</span><span class="s2">]</span><span class="se">\\</span><span class="s2">])"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"suffix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"templates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">""</span><span class="p">:</span><span class="w"> </span><span class="s2">"drafts://open?title=[[value]]&amp;allowCreate=true"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"d"</span><span class="p">:</span><span class="w"> </span><span class="s2">"drafts://open?title=[[value]]&amp;allowCreate=true"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"u"</span><span class="p">:</span><span class="w"> </span><span class="s2">"drafts://open?uuid=[[value]]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"drafts://quickSearch?query=[[value]]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"w"</span><span class="p">:</span><span class="w"> </span><span class="s2">"drafts://workspace?name=[[value]]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"google"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?q=[[value]]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"wikipedia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://en.wikipedia.org/wiki/[[value]]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bear"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bear://x-callback-url/open-note?title=[[value]]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"scopes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text.bold"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text.italic"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markup"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"suffix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markup"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <h1 id="autocomplete-definitions"> <a href="syntax-format.html#autocomplete-definitions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Autocomplete Definitions </h1> <blockquote> <p><strong>Preview:</strong> Autocomplete is only support in the Drafts beta at this time.</p> </blockquote> <p>The objects in the <code class="language-plaintext highlighter-rouge">autocompleteDefinitions</code> array define available autocomplete drop-down lists when editing.</p> <p>Each object in the <code class="language-plaintext highlighter-rouge">autocompleteDefinitions</code> array must contain the following keys:</p> <ul> <li><strong>type</strong> <em>[string]</em>: Supported values are <code class="language-plaintext highlighter-rouge">draft</code> and <code class="language-plaintext highlighter-rouge">static</code> (details below)</li> <li><strong>enabled</strong> <em>[boolean]</em>: If false, this definition will be ignored.</li> <li><strong>trigger</strong> <em>[string]</em>: The text that, when typed in the editor, will trigger the appearance of the autocomplete drop-down. This should be a short but unique sequence of characters. It is recommend to use two character strings, but single character or longer strings are supported.</li> </ul> <h2 id="draft-type"> <a href="syntax-format.html#draft-type" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">draft</code> Type </h2> <p>If the autocomplete definition object uses type <code class="language-plaintext highlighter-rouge">draft</code>, the results provided in the drop-down will be based on a query of other drafts in the user’s drafts data. The following keys should be provided to define the default values for the query as well as the appearance and output of the suggestions:</p> <ul> <li><strong>label</strong> <em>[string]</em>: Template for the label text that will appear in the drop-down list for selection. This will be evaluated by Drafts’ template engine, and most commonly this value would be <code class="language-plaintext highlighter-rouge">[[display_title]]</code>, which returns the cleaned version of the target draft’s first line for identification.</li> <li><strong>value</strong> <em>[string]</em>: Template for the text to be inserted at the cursor if the drop-down is selected. Like the <code class="language-plaintext highlighter-rouge">label</code>, this will be passed through the template engine, so can be used to control what is inserted. For example, this value could be <code class="language-plaintext highlighter-rouge">[[draft]]</code> to return the full text of the draft, or <code class="language-plaintext highlighter-rouge">[[body]]</code> to return the text without the title line. The template may also contain static text, such as additional line feeds or separators.</li> <li><strong>prefix</strong> <em>[string]</em>: If provided, the prefix string will be displayed in the selection drop-down and prepended to the output of the value template when inserting the text.</li> <li><strong>suffix</strong> <em>[string]</em>: If provided, the suffix string will be displayed in the selection drop-down and append to the output of the value template when inserting the text.</li> <li><strong>queryType</strong> <em>[string]</em>: Supported values are <code class="language-plaintext highlighter-rouge">title</code> and <code class="language-plaintext highlighter-rouge">fullText</code>. Determines if when querying for drafts matching the partial string the user has typed while autocompleting, if results should include matches only in the title, or in the full text of the draft.</li> <li><strong>queryTagFilter</strong> <em>[string]</em>: A comma-separate tag filter which can be used to limit query results to only drafts matching the tag filter. So, for example, a <code class="language-plaintext highlighter-rouge">queryTagFilter</code> of <code class="language-plaintext highlighter-rouge">blue, red</code> will only provide autocomplete suggestions for drafts with <code class="language-plaintext highlighter-rouge">blue</code> and <code class="language-plaintext highlighter-rouge">red</code> tags assigned.</li> </ul> <h4 class="no_toc" id="example-draft-type"> <a href="syntax-format.html#example-draft-type" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example <code class="language-plaintext highlighter-rouge">draft</code> Type </h4> <p>The below example <code class="language-plaintext highlighter-rouge">autocompleteDefinitions</code> entries are the default entries which ship in the built-in Markdown syntaxes. They enable autocomplete of draft titles using the <code class="language-plaintext highlighter-rouge">[[</code> trigger, and insertion of the full text of drafts using <code class="language-plaintext highlighter-rouge">&lt;&lt;</code>.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"autocompleteDefinitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[["</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[[display_title]]"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[[display_title]]"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryTagFilter"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[["</span><span class="p">,</span><span class="w">
    </span><span class="nl">"suffix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"]]"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;&lt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[[display_title]]"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[[draft]]"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryTagFilter"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"suffix"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <h2 id="static-type"> <a href="syntax-format.html#static-type" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">static</code> Type </h2> <p>Autocomplete definitions of type <code class="language-plaintext highlighter-rouge">static</code> provide a pre-defined array of available drop-down suggestions. In addition to the required keys, the following keys should be provided:</p> <ul> <li><strong>items</strong> <em>[array]</em>: An array of objects defining the available autocomplete suggestions. Each object in the array should contain the following keys: <ul> <li><strong>label</strong> <em>[string]</em>: Template for the text to appear in the autocomplete drop-down.</li> <li><strong>value</strong> <em>[string]</em>: Template for text to be inserted if item is selected.</li> <li><strong>prefix</strong> <em>[string]</em>: If provided, the prefix string will be displayed in the selection drop-down and prepended to the output of the value template when inserting the text.</li> <li><strong>suffix</strong> <em>[string]</em>: If provided, the suffix string will be displayed in the selection drop-down and append to the output of the value template when inserting the text.</li> </ul> </li> <li><strong>processTemplateTags</strong> <em>[boolean]</em>: If true, <code class="language-plaintext highlighter-rouge">label</code> and <code class="language-plaintext highlighter-rouge">value</code> template will be passed through the template engine to evaluate tags.</li> </ul> <p>Note that the <code class="language-plaintext highlighter-rouge">label</code> and <code class="language-plaintext highlighter-rouge">value</code> templates will be evaluated for Drafts template tags if <code class="language-plaintext highlighter-rouge">processTemplateTags</code> is <code class="language-plaintext highlighter-rouge">true</code>, allowing dynamic insertion of values like dates, location, but will be evaluated with the current draft being edited in context.</p> <h4 class="no_toc" id="example-static-type"> <a href="syntax-format.html#example-static-type" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example <code class="language-plaintext highlighter-rouge">static</code> Type </h4> <p>The below example <code class="language-plaintext highlighter-rouge">autocompleteDefinitions</code> entries for a simple static set of suggestions triggered by typing <code class="language-plaintext highlighter-rouge">!!</code> in the editor.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"autocompleteDefinitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"!!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"processTemplateTags"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First Item"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First Item"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"suffix"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Current Date"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[[date|%Y-%m-%d]]"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"suffix"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <h1 id="list-completion-definitions"> <a href="syntax-format.html#list-completion-definitions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> List Completion Definitions </h1> <p>The objects in the <code class="language-plaintext highlighter-rouge">listCompletionDefinitions</code> array define the patterns that identify “list” lines, so when a user hits return on a line, the list prefix is auto-inserted to continue the list on the next line.</p> <p>Each object in the <code class="language-plaintext highlighter-rouge">listCompletionDefinitions</code> array should have the following keys:</p> <ul> <li><strong>enabled</strong> <em>[boolean]</em>: Is this definition enabled.</li> <li><strong>match</strong> <em>[string]</em>: Regular expression which identifies a list line. The pattern should contain capture groups to local the line prefix, the full line, and the length of the indentation, and optionally a sequence which captures only a integer value to increment.</li> <li><strong>captures</strong> <em>[object]</em>: Dictionary with the following required keys: <ul> <li><strong>indent</strong> <em>[string]</em>: Group capture index of the <code class="language-plaintext highlighter-rouge">match</code> expression which represents a <code class="language-plaintext highlighter-rouge">indent</code> to use to padding the next line. Typically, this would match whitespace at the beginning of line.</li> <li><strong>prefix</strong> <em>[string]</em>: Group capture index of the <code class="language-plaintext highlighter-rouge">match</code> expression which represents a <code class="language-plaintext highlighter-rouge">prefix</code> for the line. This should match the text at the beginning for the line which distinguishes it as a list, like <code class="language-plaintext highlighter-rouge">* </code> or <code class="language-plaintext highlighter-rouge">- </code> for Markdown lists.</li> <li><strong>line</strong> <em>[string]</em>: Group capture index which represents the entire line.</li> <li><strong>sequence</strong> <em>[string, optional]</em>: Group capture index for an integer sequence value. This should find only the integer value, and if it does that number will be incremented on new lines.</li> </ul> </li> <li><strong>sequencePadding</strong> <em>[string]</em>: An integer for the number of digits of leading padding to apply to sequence values. For example, <code class="language-plaintext highlighter-rouge">sequencePadding</code> value of <code class="language-plaintext highlighter-rouge">0</code> will result in no padding, and number like <code class="language-plaintext highlighter-rouge">1</code>, <code class="language-plaintext highlighter-rouge">2</code>, <code class="language-plaintext highlighter-rouge">3</code>. A padding value of <code class="language-plaintext highlighter-rouge">2</code> will results in <code class="language-plaintext highlighter-rouge">001</code>, <code class="language-plaintext highlighter-rouge">002</code>, etc.</li> <li><strong>replacements</strong> <em>[object]</em>: An object key-value pairs to be replaced in the prefix text of the new line. The key should be the string to replace, the value the new text to use. This is primarily used for task mark elements, where you want the new line to contain an incomplete task, even if the previous line contained a completed one, so replacing <code class="language-plaintext highlighter-rouge">[x]</code> wtih <code class="language-plaintext highlighter-rouge">[ ]</code>.</li> </ul> <h4 class="no_toc" id="example-5"> <a href="syntax-format.html#example-5" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h4> <p>The below example <code class="language-plaintext highlighter-rouge">listCompletionDefinitions</code> entry which enables list completion in the Markdown syntaxes. It has two entries, the first which finds unordered list lines (like <code class="language-plaintext highlighter-rouge">* </code>, <code class="language-plaintext highlighter-rouge">- </code>) with or without task marks. The second which finds ordered lines and demonstrates the use of a sequence.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"listCompletionDefinitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unordered Markdown lists, like `* `"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(^[ |</span><span class="se">\\</span><span class="s2">t]*)((</span><span class="se">\\</span><span class="s2">* </span><span class="se">\\</span><span class="s2">[[ x]</span><span class="se">\\</span><span class="s2">]|- </span><span class="se">\\</span><span class="s2">[[ x]</span><span class="se">\\</span><span class="s2">]|</span><span class="se">\\</span><span class="s2">+ </span><span class="se">\\</span><span class="s2">[[ x]</span><span class="se">\\</span><span class="s2">]|</span><span class="se">\\</span><span class="s2">*|-|</span><span class="se">\\</span><span class="s2">+|&gt;) )(.*)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"indent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"line"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"replacements"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"[x]"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[ ]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"{x}"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{ }"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"{-}"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{ }"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ordered Markdown lists, like `1. `"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(^[ |</span><span class="se">\\</span><span class="s2">t]*)((</span><span class="se">\\</span><span class="s2">d+)</span><span class="se">\\</span><span class="s2">. (</span><span class="se">\\</span><span class="s2">[[ x]</span><span class="se">\\</span><span class="s2">] )?)(.*)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequencePadding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"indent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"line"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"replacements"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"[x]"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[ ]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"{x}"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{ }"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"{-}"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{ }"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <hr> <footer> <p> <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site"> <img src="../../../images/appstore.svg" alt="Download on App Store" /> </a> <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site"> <img src="../../../images/macappstore.svg" alt="Download on Mac App Store" /> </a> </p> <p>&copy; 2012-2022 by Agile Tortoise, Inc.<br /> Drafts is a registered Trademark of Agile Tortoise, Inc.<br /> <a href="https://getdrafts.com/support/privacy">Privacy</a> | <a href="https://getdrafts.com/support/terms">Terms</a> </p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
